<?xml version="1.0" encoding="utf-8"?>
<project name="MiniJavaCompiler" default="compile_all">

    <property name="gen.dir" value="gen/" />
    <property name="build.dir" value="bin/" />
    
    <target name="compile_all" depends="clean" >
        <ant antfile="mips/build_mips.xml" target="generate" />
        <ant antfile="kanga/build_kanga.xml" target="generate" />
        <ant antfile="spiglet/build_spiglet.xml" target="generate" />
        <ant antfile="piglet/build_piglet.xml" target="generate" />
        <!-- minijava step compiles all generated files + src -->
        <ant antfile="minijava/build_minijava.xml" target="compile" />
    </target>

    <target name="clean">
        <delete dir="${gen.dir}"/>
        <delete dir="${build.dir}"/>
    </target>

</project>